{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["`use strict`;\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n});\n  \nconst galleryContainer = document.querySelector('.gallery');\nexport function createGallery(images) {\n    const markup = images.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {  \n      return `\n        <li class=\"gallery-item\">\n          <a href=\"${largeImageURL}\">\n            <img src=\"${webformatURL}\" alt=\"${tags}\" />\n          </a>\n          <div class=\"info\">\n            <p>Likes: <span>${likes}</span></p>\n            <p>Views: <span>${views}</span></p>\n            <p>Comments: <span>${comments}</span></p>\n            <p>Downloads: <span>${downloads}</span></p>\n          </div>\n        </li>\n      `;\n    }).join('');\n\ngalleryContainer.insertAdjacentHTML('beforeend', markup);\nlightbox.refresh();\n}\n\nexport function clearGallery() {\n    galleryContainer.innerHTML = '';\n}\n\nexport function showLoader() {\n  const loader = document.querySelector('.loader');\n  loader.classList.remove('hidden');\n  requestAnimationFrame(() => {\n    loader.classList.add('show'); \n  });\n}\n\nexport function hideLoader() {\n  const loader = document.querySelector('.loader');\n  loader.classList.remove('show');\n  setTimeout(() => {\n    loader.classList.add('hidden');\n  }, 400); \n}\n  \n","import axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\naxios.defaults.baseURL = 'https://pixabay.com/api/';\nconst API_KEY = '50743656-f34c73b2fc7295c80e7e7c3d4';\n\nexport async function getImagesByQuery(query) {\n  try {\n    const response = await axios.get('', {\n      params: {\n        key: API_KEY,\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true, \n      },\n    });\n\n    return response.data;\n  } catch (error) {\n    iziToast.error({\n      title: 'Error',\n      message: `Sorry, there are no images matching your search query. Please try again!`,\n      position: 'topRight',\n    });\n\n    throw error; \n  }\n}","import { createGallery, clearGallery, showLoader, hideLoader } from './js/render-functions.js';\nimport { getImagesByQuery } from './js/pixabay-api.js';\nimport iziToast from 'izitoast'; \n\nconst form = document.querySelector('.form');\n\nform.addEventListener('submit', async (event) => {\n  event.preventDefault();\n\n  const searchQuery = event.currentTarget.elements['search-text'].value.trim();\n  if (!searchQuery) {\n    iziToast.error({\n      title: 'Warning',\n      message: `Image not found`,\n      position: 'topRight',\n      backgroundColor: 'orange',\n    });\n    form.reset(); \n    return;\n  }\n\n  clearGallery();\n  showLoader();\n\n  try {\n    const data = await getImagesByQuery(searchQuery);\n\n    if (data.hits.length === 0) {\n      iziToast.error({\n        title: 'Error',\n        message: `Sorry, there are no images matching your search query. Please try again!`,\n        position: 'topRight',\n      });\n      form.reset(); \n      return; \n    }\n\n    createGallery(data.hits);\n    form.reset(); \n\n  } catch (error) {\n    console.error(error);\n  } finally {\n    hideLoader();\n  }\n});\n"],"names":["lightbox","SimpleLightbox","galleryContainer","createGallery","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","showLoader","loader","hideLoader","axios","API_KEY","getImagesByQuery","query","error","iziToast","form","event","searchQuery","data"],"mappings":"owBAMA,MAAMA,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GAClB,CAAC,EAEKC,EAAmB,SAAS,cAAc,UAAU,EACnD,SAASC,EAAcC,EAAQ,CAClC,MAAMC,EAASD,EAAO,IAAI,CAAC,CAAE,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IACxF;AAAA;AAAA,qBAEQL,CAAa;AAAA,wBACVD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,8BAGpBC,CAAK;AAAA,8BACLC,CAAK;AAAA,iCACFC,CAAQ;AAAA,kCACPC,CAAS;AAAA;AAAA;AAAA,OAItC,EAAE,KAAK,EAAE,EAEdV,EAAiB,mBAAmB,YAAaG,CAAM,EACvDL,EAAS,QAAO,CAChB,CAEO,SAASa,GAAe,CAC3BX,EAAiB,UAAY,EACjC,CAEO,SAASY,GAAa,CAC3B,MAAMC,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,UAAU,OAAO,QAAQ,EAChC,sBAAsB,IAAM,CAC1BA,EAAO,UAAU,IAAI,MAAM,CAC/B,CAAG,CACH,CAEO,SAASC,GAAa,CAC3B,MAAMD,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,UAAU,OAAO,MAAM,EAC9B,WAAW,IAAM,CACfA,EAAO,UAAU,IAAI,QAAQ,CAC9B,EAAE,GAAG,CACR,CC/CAE,EAAM,SAAS,QAAU,2BACzB,MAAMC,EAAU,qCAET,eAAeC,EAAiBC,EAAO,CAC5C,GAAI,CAWF,OAViB,MAAMH,EAAM,IAAI,GAAI,CACnC,OAAQ,CACN,IAAKC,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACb,CACP,CAAK,GAEe,IACjB,OAAQC,EAAO,CACd,MAAAC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,2EACT,SAAU,UAChB,CAAK,EAEKD,CACP,CACH,CCzBA,MAAME,EAAO,SAAS,cAAc,OAAO,EAE3CA,EAAK,iBAAiB,SAAU,MAAOC,GAAU,CAC/CA,EAAM,eAAc,EAEpB,MAAMC,EAAcD,EAAM,cAAc,SAAS,aAAa,EAAE,MAAM,OACtE,GAAI,CAACC,EAAa,CAChBH,EAAS,MAAM,CACb,MAAO,UACP,QAAS,kBACT,SAAU,WACV,gBAAiB,QACvB,CAAK,EACDC,EAAK,MAAK,EACV,MACD,CAEDV,IACAC,IAEA,GAAI,CACF,MAAMY,EAAO,MAAMP,EAAiBM,CAAW,EAE/C,GAAIC,EAAK,KAAK,SAAW,EAAG,CAC1BJ,EAAS,MAAM,CACb,MAAO,QACP,QAAS,2EACT,SAAU,UAClB,CAAO,EACDC,EAAK,MAAK,EACV,MACD,CAEDpB,EAAcuB,EAAK,IAAI,EACvBH,EAAK,MAAK,CAEX,OAAQF,EAAO,CACd,QAAQ,MAAMA,CAAK,CACvB,QAAY,CACRL,GACD,CACH,CAAC"}